import sqlite3

# Função para criar a tabela
def musicas():
    conexao = sqlite3.connect('repertorio.db')
    cursor = conexao.cursor()
    cursor.execute('''CREATE TABLE IF NOT EXISTS musica (
                   id INTEGER PRIMARY KEY,
                   titulo TEXT NOT NULL,
                   artista TEXT NOT NULL,
                   palavra_chave TEXT NOT NULL,
                   album TEXT NOT NULL,
                   genero TEXT NOT NULL,
                   ano INTEGER,
                   duracao_segundos INTEGER,
                   compositor TEXT NOT NULL,
                   gravadora TEXT NOT NULL,
                   caminho_arquivo TEXT NOT NULL )'''
                   )
    
    conexao.commit()
    conexao.close()

# Função para adicionar um novo musica
def adicionar_musica(titulo, artista, palavra_chave, album, genero, ano, duracao_segundos, compositor, gravadora, caminho_arquivo,):
    conexao = sqlite3.connect('exemplo.db')
    cursor = conexao.cursor()
    cursor.execute('''INSERT INTO musica (titulo, artista, palavra_chave, album, genero, ano, duracao_segundos, compositor, gravadora, caminho_arquivo,) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)''', (titulo, artista, palavra_chave, album, genero, ano, duracao_segundos, compositor, gravadora, caminho_arquivo,))
    conexao.commit()
    conexao.close()

# Função para listar todos os usuários
def listar_usuarios():
    conexao = sqlite3.connect('exemplo.db')
    cursor = conexao.cursor()
    cursor.execute('''SELECT * FROM usuarios''')
    usuarios = cursor.fetchall()
    for usuario in usuarios:
        print(usuario)
    conexao.close()

# Função para atualizar os dados de um usuário
def atualizar_usuario(id, nome, idade):
    conexao = sqlite3.connect('exemplo.db')
    cursor = conexao.cursor()
    cursor.execute('''UPDATE usuarios SET nome = ?, idade = ? WHERE id = ?''', (nome, idade, id))
    conexao.commit()
    conexao.close()

# Função para deletar um usuário
def deletar_usuario(id):
    conexao = sqlite3.connect('exemplo.db')
    cursor = conexao.cursor()
    cursor.execute('''DELETE FROM usuarios WHERE id = ?''', (id,))
    conexao.commit()
    conexao.close()

# Função do menu de escolhas

def menu():
    print("\n1. Adicionar usuario")
    print("2. Listar usuarios")
    print("3. Atualizar usuario")
    print("4. Deletar usuario")
    print("5. Sair")

# Criar a tabela (se ainda não existe)

criar_tabela()

while True: 
    menu()
    escolha = input ("escolha uma opcao:")
        
    if escolha == '1':
        nome = input("Digite o nome do usuario: ")
        idade = int(input("Digite a idade do usuario: "))
        adicionar_usuario(nome, idade)
        print("Usuario adicionado com sucesso!")
    elif escolha == '2':
        print("\nTodos os usuarios:")
        listar_usuarios()
    elif escolha == '3':
        id = int(input("Digite o ID do usuario a ser atualizado: "))
        nome = input("Digite o novo nome do usuario: ")
        idade = int(input("Digite a nova idade do usuario: "))
        atualizar_usuario(id, nome, idade)
        print("Usuario atualizado com sucesso!")
    elif escolha == '4':
        id = int(input("Digite o ID do usuario a ser deletado: "))
        deletar_usuario(id)
        print("Usuario deletado com sucesso!")
    elif escolha == '5':
        print("Saindo do programa...")
        break
    else:
        print("opção invalida.")
